!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.eventmanager=t()}(this,function(){"use strict";function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}return class{constructor(e=!0){this._events={},this._enabled=e,this._eventIndex={}}countEvents(e){return e in this._events?this._events[e].length:0}disableEvents(){this._enabled=!1}enableEvents(){this._enabled=!0}on(t,n){if("function"==typeof n){t in this._events||(this._events[t]=[]);let s=e();return this._eventIndex[s]={eventName:t,callback:n},this._events[t].push(s),s}return console.warn("The callback must be of type Function"),null}emit(e,t=[]){if(this._enabled&&e in this._events&&this._events[e].length>0){const n=this._events[e];for(let e=0;e<n.length;e+=1)this._eventIndex[n[e]].callback(...t)}}async emitAsync(e,t=[]){if(this._enabled&&e in this._events&&this._events[e].length>0){const n=this._events[e];for(let e=0;e<n.length;e+=1)await this._eventIndex[n[e]].callback(...t)}}delete(e){if(!(e in this._eventIndex))return void console.log(`No event of id ${e}.`);let t=this._events[this._eventIndex[e].eventName],n=t.indexOf(e);delete this._eventIndex[e],-1!==n&&t.splice(n,1),0===t.length&&delete this._events[this._eventIndex[e].eventName]}}});
